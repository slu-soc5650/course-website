<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Lecture 10 - Projections - SLU SOC 4650 &amp; SOC 5650</title>
    <meta name="generator" content="Hugo 0.30" />

    
    <meta name="description" content="SOC 4650 &amp; SOC 5650: Introduction to Geographic Information Science">
    
    <link rel="canonical" href="https://slu-soc5650.github.io/lecture-10/">
    
    <meta name="author" content="Christopher Prener, Ph.D.">
    

    <meta property="og:url" content="https://slu-soc5650.github.io/lecture-10/">
    <meta property="og:title" content="SLU SOC 4650 &amp; SOC 5650">
    <meta property="og:image" content="https://slu-soc5650.github.io/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="SLU SOC 4650 &amp; SOC 5650">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://slu-soc5650.github.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://slu-soc5650.github.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://slu-soc5650.github.io/fonts/icon.eot');
        src: url('https://slu-soc5650.github.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://slu-soc5650.github.io/fonts/icon.woff')
               format('woff'),
             url('https://slu-soc5650.github.io/fonts/icon.ttf')
               format('truetype'),
             url('https://slu-soc5650.github.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://slu-soc5650.github.io/stylesheets/application.css">
    <link rel="stylesheet" href="https://slu-soc5650.github.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://slu-soc5650.github.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://slu-soc5650.github.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://slu-soc5650.github.io/javascripts/modernizr.js"></script>

    
    
    <script defer src="https://use.fontawesome.com/releases/v5.0.1/js/all.js"></script>
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>

  </head>
  <body class="palette-primary-green palette-accent-blue">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Lecture 10 - Projections
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/slu-soc5650" title="@slu-soc5650 on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/slu-soc5650/Core-Documents" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://slu-soc5650.github.io/images/logo.png">
        </div>
      
      <div class="name">
        <strong>SLU SOC 4650 &amp; SOC 5650 </strong>
        
          <br>
          slu-soc5650/Core-Documents
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/slu-soc5650/Core-Documents/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download Syllabus
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="About" href="https://slu-soc5650.github.io/">
	
	About
</a>



  
</li>



<li>
  
    



<a  title="Course Resources" href="https://slu-soc5650.github.io/course-resources/">
	
	Course Resources
</a>



  
</li>



<li>
  
    



<a  title="Course Onboarding" href="https://slu-soc5650.github.io/getting-started/">
	
	Course Onboarding
</a>



  
</li>



<li>
  
    



<a  title="Course Software" href="https://slu-soc5650.github.io/course-software/">
	
	Course Software
</a>



  
</li>



<li>
  
    



<a  title="Course Preview" href="https://slu-soc5650.github.io/course-preview/">
	
	Course Preview
</a>



  
</li>



<li>
  
    



<a  title="Lecture 01 - Course Introduction" href="https://slu-soc5650.github.io/lecture-01/">
	
	Lecture 01 - Course Introduction
</a>



  
</li>



<li>
  
    



<a  title="Lecture 02 - Working with Data (1)" href="https://slu-soc5650.github.io/lecture-02/">
	
	Lecture 02 - Working with Data (1)
</a>



  
</li>



<li>
  
    



<a  title="Lecture 03 - Spatial Data (1)" href="https://slu-soc5650.github.io/lecture-03/">
	
	Lecture 03 - Spatial Data (1)
</a>



  
</li>



<li>
  
    



<a  title="Lecture 04 - Spatial Data (2)" href="https://slu-soc5650.github.io/lecture-04/">
	
	Lecture 04 - Spatial Data (2)
</a>



  
</li>



<li>
  
    



<a  title="Lecture 05 - Cartographic Design" href="https://slu-soc5650.github.io/lecture-05/">
	
	Lecture 05 - Cartographic Design
</a>



  
</li>



<li>
  
    



<a  title="Lecture 06 - GIS Outputs" href="https://slu-soc5650.github.io/lecture-06/">
	
	Lecture 06 - GIS Outputs
</a>



  
</li>



<li>
  
    



<a  title="Lecture 07 - Geodatabases" href="https://slu-soc5650.github.io/lecture-07/">
	
	Lecture 07 - Geodatabases
</a>



  
</li>



<li>
  
    



<a  title="Lecture 08 - Demographic Data" href="https://slu-soc5650.github.io/lecture-08/">
	
	Lecture 08 - Demographic Data
</a>



  
</li>



<li>
  
    



<a  title="Lecture 09 - Spatial Joins" href="https://slu-soc5650.github.io/lecture-09/">
	
	Lecture 09 - Spatial Joins
</a>



  
</li>



<li>
  
    



<a class="current" title="Lecture 10 - Projections" href="https://slu-soc5650.github.io/lecture-10/">
	
	Lecture 10 - Projections
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Lecture 11 - Working with Data (2)" href="https://slu-soc5650.github.io/lecture-11/">
	
	Lecture 11 - Working with Data (2)
</a>



  
</li>



<li>
  
    



<a  title="Lecture 12 - Geoprocessing (1)" href="https://slu-soc5650.github.io/lecture-12/">
	
	Lecture 12 - Geoprocessing (1)
</a>



  
</li>



<li>
  
    



<a  title="Lecture 13 - Geoprocessing (2)" href="https://slu-soc5650.github.io/lecture-13/">
	
	Lecture 13 - Geoprocessing (2)
</a>



  
</li>



<li>
  
    



<a  title="Lecture 14 - Digitizing Data" href="https://slu-soc5650.github.io/lecture-14/">
	
	Lecture 14 - Digitizing Data
</a>



  
</li>



<li>
  
    



<a  title="Lecture 15 - Geocoding Data" href="https://slu-soc5650.github.io/lecture-15/">
	
	Lecture 15 - Geocoding Data
</a>



  
</li>



<li>
  
    



<a  title="Final Project" href="https://slu-soc5650.github.io/final-project/">
	
	Final Project
</a>



  
</li>



<li>
  
    



<a  title="Topic Index" href="https://slu-soc5650.github.io/topic-index/">
	
	Topic Index
</a>



  
</li>



<li>
  
    



<a  title="Package Index" href="https://slu-soc5650.github.io/package-index/">
	
	Package Index
</a>



  
</li>



<li>
  
    



<a  title="License" href="https://slu-soc5650.github.io/license/">
	
	License
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">Additional details</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/slu-soc5650" target="_blank" title="@slu-soc5650 on GitHub">
            <i class="fab fa-github"></i> Course GitHub Organization
            </a>
          </li>
          

          
          <li>
            <a href="mailto:chris.prener@slu.edu" title="Email of chris.prener@slu.edu">
            <i class="fas fa-envelope"></i> Contact Chris
            </a>
          </li>
          
          
          
          <li>
            <a href="https://chris-prener.github.io" target="_blank" title="Website of https://chris-prener.github.io">
            <i class="fas fa-user"></i> About Chris
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Lecture 10 - Projections </h1> 

			

<h2 id="meta">Meta</h2>

<p><img src="https://img.shields.io/badge/semester-spring%202018-orange.svg" alt="" />
<img src="https://img.shields.io/badge/release-updated-brightgreen.svg" alt="" />
<a href="https://github.com/slu-soc5650/lecture-09/blob/master/NEWS_SITE.md"><img src="https://img.shields.io/badge/last%20update-2018--03--28-brightgreen.svg" alt="" /></a></p>

<h2 id="key-topics">Key Topics</h2>

<p><a href="https://slu-soc5650.github.io/topic-index/#a-d"><i class="tool"><i class="fas fa-desktop"></i> ArcMap</i></a>
<a href="https://slu-soc5650.github.io/topic-index/#e-h"><i class="keyword"><i class="fas fa-tags"></i> Geographic coordinate systems</i> </a>
<a href="https://slu-soc5650.github.io/topic-index/#q-t"><i class="tool"><i class="fas fa-desktop"></i> R</i></a>
<a href="https://slu-soc5650.github.io/topic-index/#q-t"><i class="package"><i class="fas fa-archive"></i> sf</i></a>
<a href="https://slu-soc5650.github.io/topic-index/#m-p"><i class="keyword"><i class="fas fa-tags"></i> Projected coordinate systems</i> </a>
<a href="https://slu-soc5650.github.io/topic-index/#m-p"><i class="keyword"><i class="fas fa-tags"></i> Projecting data</i> </a></p>

<h2 id="resources">Resources</h2>

<p><a class="btn btn-primary btn-outline btn-xs" href="https://github.com/slu-soc5650/lecture-10" target="_blank"> Open on <i class="fab fa-github fa-lg"></i> </a>
<a class="btn btn-primary btn-outline btn-xs" href="https://github.com/slu-soc5650/lecture-10/blob/master/handouts/lecture-10-arcmap.pdf" target="_blank"> ArcMap Processes </a>
<a class="btn btn-primary btn-outline btn-xs" href="https://github.com/slu-soc5650/lecture-10/blob/master/handouts/lecture-10-functions.pdf" target="_blank"> Functions </a>
<a class="btn btn-primary btn-outline btn-xs" href="https://github.com/slu-soc5650/lecture-10/blob/master/assignments/lab-09/lab-09.pdf" target="_blank"> Lab-09 </a>
<a class="btn btn-primary btn-outline btn-xs" href="https://github.com/slu-soc5650/lecture-10/blob/master/assignments/lp-09/lp-09.pdf" target="_blank"> LP-09 </a>
<a class="btn btn-primary btn-outline btn-xs" href="https://github.com/slu-soc5650/lecture-10/blob/master/assignments/ps-06/ps-06.pdf" target="_blank"> PS-06 </a></p>

<h2 id="lecture-slides">Lecture Slides</h2>

<p><p> </p>
<script async class='speakerdeck-embed' data-id='b5ad8a7638cd441c8e1d4f95dc169454' data-ratio='1.33333333333333' src='//speakerdeck.com/assets/embed.js'></script></p>

<h2 id="lecture-prep-09-replication">Lecture Prep 09 Replication</h2>

<p><p> </p>

<div style="position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/emYUhqQxoOs" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allowfullscreen frameborder="0" title="YouTube Video"></iframe>
 </div>
</p>

<h2 id="videos-from-lecture">Videos From Lecture</h2>

<h3 id="scene-from-the-west-wing-season-2-episode-16-the-gall-peters-projection">Scene from <em>The West Wing</em>, Season 2, Episode 16 - &ldquo;The Gall-Peters Projection&rdquo;</h3>

<p><p> </p>

<div style="position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/vVX-PrBRtTY" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allowfullscreen frameborder="0" title="YouTube Video"></iframe>
 </div>
</p>

<h3 id="vox-com-why-all-world-maps-are-wrong">Vox.com - &ldquo;Why all world maps are wrong&rdquo;</h3>

<p><p> </p>

<div style="position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/kIID5FDi2JQ" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allowfullscreen frameborder="0" title="YouTube Video"></iframe>
 </div>
</p>

<h2 id="the-true-size">The True Size</h2>

<p>The interactive mapping tool described during the lecture - &ldquo;The True Size&rdquo; - can be found <a href="https://thetruesize.com">here</a>.</p>

<h2 id="missouri-projection-systems">Missouri Projection Systems</h2>

<p>The website <a href="http://www.spatialreference.org/">Spatial Reference</a> has a <a href="http://www.spatialreference.org/ref/?search=Missouri">comprehensive list</a> of projections used for mapping Missouri. The <code>EPSG</code> values can be used as inputs in <code>sf</code> functions whenever a <code>crs</code> value is needed.</p>

<h2 id="table-joins-with-county-data">Table Joins with County Data</h2>

<p>Beware that county-level tables for the entire United States are exceptionally large, and the <code>left_join()</code> function becomes correspondingly slow. One way to improve the performance of this process is to drop as many variables as you possibly can from each table. The key items to retain for both the lab and the problem set are columns like name, state FIPS, county, fips, and geoid data as well as the relevant county-level outcome (health insurance, stroke rates, etc).</p>

<p>Dropping variables also gets us around an issue with the <code>ALAND10</code> and <code>AWATER10</code> variables. Both of these variables contain very large numbers - the square meters of water and land respectively for each county. ESRI&rsquo;s shapefile standards to not allow us to store these data as numbers - they have to be stored as string instead:</p>

<pre><code class="language-r">countyData %&gt;%
  mutate(ALAND10 = as.character(ALAND10)) %&gt;%
  mutate(AWATER10 = as.character(AWATER10)) -&gt; countyData
</code></pre>

<p>This leaves us with two character or string vectors instead of numeric ones, which will not cause errors with the ESRI shapefile standard. If you do not complete this transformation for both variables, you will get errors when you go to write the data to shapefile at the end of your notebook.</p>

<h2 id="including-leaftlet-in-notebooks">Including leaftlet in Notebooks</h2>

<p>When we include <code>leaflet</code> in RNotebooks, we need to adjust our <code>YAML</code> header before we knit the notebook. Here is the header from the lab replication file:</p>

<pre><code class="language-YAML">---
title: &quot;Lab 09 Replication Notebook&quot;
author: &quot;Christopher Prener, Ph.D.&quot;
date: '(`r format(Sys.time(), &quot;%B %d, %Y&quot;)`)'
output: 
  github_document: default
  html_notebook: default 
always_allow_html: yes
---
</code></pre>

<p>The <code>always_allow_html: yes</code> line at the end of the <code>YAML</code> allows you to knit the notebook without getting an error. If you get any <code>knitr</code> errors while trying to finish the notebook, check to make sure you&rsquo;ve added this text to the header!</p>

<p>Beware that the <code>leaflet</code> objects won&rsquo;t actually appear in your notebook - the code should appear but with no output. This is the expected behavior with <code>leaflet</code>!</p>


      <hr>

			<aside class="copyright" role="note">
				
				&copy; 2018 <a href="https://slu-soc5650.github.io/License/">Licensed under a CC BY-SA 4.0 License</a> &ndash;
				
				Website built with
				<a href="https://bookdown.org/yihui/blogdown/" target="_blank">Blogdown</a> and
				<a href="https://www.gohugo.io" target="_blank">Hugo</a> using a
				<a href="https://github.com/chris-prener/hugo-material-docs" target="_blank">fork</a> of the 
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://slu-soc5650.github.io/lecture-09/" title="Lecture 09 - Spatial Joins">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Lecture 09 - Spatial Joins
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://slu-soc5650.github.io/lecture-11/" title="Lecture 11 - Working with Data (2)">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Lecture 11 - Working with Data (2)
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/slu-soc5650.github.io\/';
      var repo_id  = 'slu-soc5650\/Core-Documents';
    
    </script>

    <script src="https://slu-soc5650.github.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

