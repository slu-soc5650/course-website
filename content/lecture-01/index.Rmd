---
date: 2016-03-09T00:11:02+01:00
title: Lecture 01 - Course Introduction
weight: 20
---

<a class="btn btn-primary btn-outline btn-xs{{end}}" href="https://github.com/slu-soc5650/" target="_blank"> Open on <i class="fab fa-github fa-lg"></i> </a>

## Handouts

<a class="btn btn-primary btn-outline btn-xs{{end}}" href="https://github.com/slu-soc5650/" target="_blank"> Handout 1 </a>
<a class="btn btn-primary btn-outline btn-xs{{end}}" href="https://github.com/slu-soc5650/" target="_blank"> Handout 2 </a>
<a class="btn btn-primary btn-outline btn-xs{{end}}" href="https://github.com/slu-soc5650/" target="_blank"> Handout 3 </a>

## Leaflet
As a way to get to know `R` and RStudio, we'll be working with the `R` package [`leaflet`](https://rstudio.github.io/leaflet/). `leaflet` is the `R` implementation of [`leaflet.js`](http://leafletjs.com), an open-source Java Script library for building interactive maps. To get started, you'll need to fire up RStudio. In the console, enter the following function and hit return:

```r
install.packages("leaflet")
```

The `install.packages()` function is the way we'll add packages, which are small software programs that extend `R`'s base functionality. We only need to run this function once per package per user. After it is installed, and for each subsequent `R` session, we can open the package with the `library()` function:

```r
library("leaflet")
```

Each time you re-open RStudio, you will need to execute the `library()` function for all needed packages. 

### A Simple Map

`leaflet` itself is straightforward to get up and running. If we wanted an interactive map with a marker placed on-top of Morrissey Hall, we would use the following script entered into `R`:

```r
leaflet() %>%
  addTiles() %>%
  addMarkers(lng=-90.237104, lat=38.637547, popup="Morrissey Hall")
```

The `leaflet()` function creates a map widget, and the `addTiles()` function adds a basemap to it. By default, [OpenStreetMap](https://www.openstreetmap.org) is used for the basemap. Finally, we use `addMarkers()` to specify the longitude and latitude of our marker, and we enter in a label that will appear as a pop-up when a user clicks on the marker. `lng`, `lat`, and `popup` are all called "arguments" - these are used to control how a function operates. 

The `%>%` is called the "pipe operator", and it is used to chain together functions in what we will call "pipelines". This pipeline can be read like a list, with the word **then** substituted for each instance of `%>%`:

1. First we create a map widget, **then**
2. we add basemap tiles, **then**
3. we add a marker at the given longitude and latitude.

The code chunk above produces the following map in RStudio's **Viewer** tab:
```{r echo = FALSE}
library(leaflet)

leaflet(width = '100%') %>%
  addTiles() %>%
  addMarkers(lng=-90.237104, lat=38.637547, popup="Morrissey Hall")
```
You can use the **Show in new window** icon (a white box with a small arrow facing up and right) to open the map in your web browser.

### Changing the Basemap

To alter the basemap, we can use `addProviderTiles()` in place of `addTiles()`. I like the CartoDB "Positron" basemap. To use the Positron basemap, we create a second pipeline:

```r
leaflet() %>%
  addProviderTiles(providers$CartoDB.Positron) %>% 
  addMarkers(lng=-90.237104, lat=38.637547, popup="Morrissey Hall")
```

Two things are important to note here. When we load the `leaflet` package, we have access to a data object called `providers`. You can use `names(providers)` to explore it. `providers` is a vector of items, each of which corresponds to a different basemap. We can select one of those items, `CartoDB.Positron`, by separating `providers` from the item name with a dollar sign (`$`). This is a classic way in which elements of a data set are accessed in `R` syntax.

The second code chunk produces the following map in RStudio's **Viewer** tab:
```{r echo = FALSE}
leaflet(width = '100%') %>%
  addProviderTiles(providers$CartoDB.Positron) %>% 
  addMarkers(lng=-90.237104, lat=38.637547, popup="Morrissey Hall")
```